(()=>{"use strict";let e,n,o="";self.addEventListener("message",(function(t){console.log("hi??44444"),console.log(null==t?void 0:t.data);let i=null==t?void 0:t.data.privateKey;console.log(i),o=i,t.waitUntil((async()=>{e=async()=>new Promise((e=>(n=setTimeout((()=>{console.log("5분 후 실행됩니다."),e()}),3e5),n))),n=await e()})().then((()=>{console.log("타이머가 완료되었습니다. 222")})))})),self.addEventListener("push",(function(e){let n=JSON.parse(e.data.text()),t=n.type;switch(console.log(t),t){case"push":e.waitUntil(registration.showNotification(n.title,{body:`${n.message} private key === ${o}`,icon:"/icons/icon-192x192.png",requireInteraction:!0,actions:[{action:"explore",title:"서명하기",icon:"/icons/push/explore-icon.png"},{action:"site",title:"사이트 이동",icon:"/icons/push/explore-icon.png"},{action:"close",title:"취소",icon:"/icons/push/close-icon.png"}]}));break;case"connect":console.log("다른 동작을 추가시킨다.")}})),self.addEventListener("notificationclick",(function(e){e.notification.close(),e.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(e){if(e.length>0){let n=e[0];for(let o=0;o<e.length;o++)e[o].focused&&(n=e[o]);return n.focus()}return clients.openWindow("/")})))}))})();